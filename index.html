<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>工程師作品集</title>
  <meta name="description" content="以 vibe coding 打造 LINE Bot、校園系統與各種快速原型的作品集網站。" />
  <meta name="robots" content="index,follow" />

  <!-- ======================
       ✅ favicon（.ico，強制破快取）
       檔案位置：public/favicon.ico
  ======================= -->
  <link rel="icon" href="/favicon.ico?v=2" />

  <!-- Open Graph -->
  <meta property="og:title" content="工程師作品集" />
  <meta property="og:description" content="以 vibe coding 打造 LINE Bot、校園系統與各種快速原型的作品集網站。" />
  <meta property="og:type" content="website" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="工程師作品集" />
  <meta name="twitter:description" content="以 vibe coding 打造 LINE Bot、校園系統與各種快速原型的作品集網站。" />
</head>

<body>
  <!-- 背景裝飾 -->
  <div class="bg-orb orb1"></div>
  <div class="bg-orb orb2"></div>

  <!-- ======================
       Turnstile Gate
  ======================= -->
  <div id="gate" class="gate">
    <div class="gate-card">
      <div class="gate-title">進入前請先驗證</div>
      <div class="gate-sub muted">通過 Turnstile 後才會顯示網站內容。</div>

      <div class="cf-turnstile"
           data-sitekey="0x4AAAAAACQYftaDCMHt7drM"
           data-callback="onTurnstileSuccess"
           data-expired-callback="onTurnstileExpired"
           data-error-callback="onTurnstileError"></div>

      <div class="muted mini" id="gateMsg"></div>
    </div>
  </div>

  <!-- ======================
       Main Content
  ======================= -->
  <main class="container">
    <!-- Hero -->
    <section class="card hero">
      <div class="hero-top">
        <div class="hero-title">
          <p class="badge">工程師 · Vibe Coding</p>
          <h1 id="name">我的作品集</h1>
          <p class="muted" id="tagline">
            LINE Bot / 校園系統 / 各種快速原型與自動化。
          </p>
        </div>

        <div class="hero-actions">
          <button class="btn ghost" id="btnLogin">Google 登入</button>
          <button class="btn ghost" id="btnLogout" hidden>登出</button>
          <button class="btn ghost" id="btnEditProfile" hidden>編輯個人資料</button>
          <button class="btn" id="btnAdd" hidden>＋ 新增作品</button>
        </div>
      </div>

      <div class="hero-bottom">
        <div class="stat">
          <div class="stat-num" id="projectCount">0</div>
          <div class="stat-label">作品數</div>
        </div>
        <div class="stat">
          <div class="stat-num" id="lastUpdated">—</div>
          <div class="stat-label">最後更新</div>
        </div>
        <div class="hint muted" id="authHint">
          訪客模式：只能瀏覽。登入後可新增 / 編輯 / 刪除。
        </div>
      </div>
    </section>

    <!-- Bento -->
    <section class="bento">
      <article class="card about">
        <h2>自我介紹</h2>
        <p class="muted" id="aboutText">
          我是一位工程師，習慣用 vibe coding 把想法快速做成可用系統。
        </p>
      </article>

      <article class="card social">
        <h2>社群連結</h2>
        <div class="social-list" id="socialList"></div>
      </article>

      <article class="card tools">
        <div class="row-between">
          <h2 id="pageTitle">作品列表</h2>
          <div class="right-tools" id="listToolbar">
            <input class="input" id="search" placeholder="搜尋作品名稱 / 介紹 / Prompt…" />
            <select class="select" id="sort">
              <option value="updated_desc">更新：新 → 舊</option>
              <option value="updated_asc">更新：舊 → 新</option>
              <option value="name_asc">名稱：A → Z</option>
              <option value="name_desc">名稱：Z → A</option>
            </select>
          </div>
        </div>

        <!-- 標籤列 -->
        <div class="tagbar" id="tagBar"></div>

        <p class="muted mini" id="pageHint">
          點作品卡片可查看詳細頁。
        </p>
      </article>

      <article class="card projects">
        <div id="routeRoot"></div>
      </article>
    </section>
  </main>

  <!-- ======================
       Project Modal
  ======================= -->
  <dialog class="modal" id="modalProject">
    <form class="modal-inner" id="projectForm">
      <div class="modal-head">
        <h3 id="modalTitle">新增作品</h3>
        <button class="icon-btn" type="button" id="btnCloseProject">✕</button>
      </div>

      <div class="form-grid">
        <label>
          <span>作品名稱</span>
          <input class="input" name="title" required />
        </label>

        <label>
          <span>作品連結</span>
          <input class="input" name="url" required />
        </label>

        <label class="full">
          <span>作品縮圖（圖片網址）</span>
          <input class="input" name="thumb" />
        </label>

        <label class="full">
          <span>標籤（逗號分隔）</span>
          <input class="input" name="tags" placeholder="React, Firebase, LINE Bot" />
        </label>

        <label class="full">
          <span>作品介紹</span>
          <textarea class="textarea" name="description" rows="4"></textarea>
        </label>

        <label class="full">
          <span>作品 AI Prompt</span>
          <textarea class="textarea" name="prompt" rows="4"></textarea>
        </label>
      </div>

      <div class="modal-actions">
        <input type="hidden" name="id" />
        <button class="btn ghost" type="button" id="btnCancelProject">取消</button>
        <button class="btn" type="submit">儲存</button>
      </div>
    </form>
  </dialog>

  <!-- ======================
       Profile Modal
  ======================= -->
  <dialog class="modal" id="modalProfile">
    <form class="modal-inner" id="profileForm">
      <div class="modal-head">
        <h3>編輯個人資料</h3>
        <button class="icon-btn" type="button" id="btnCloseProfile">✕</button>
      </div>

      <div class="form-grid">
        <label>
          <span>姓名 / 標題</span>
          <input class="input" name="name" />
        </label>

        <label>
          <span>一句話標語</span>
          <input class="input" name="tagline" />
        </label>

        <label class="full">
          <span>自我介紹</span>
          <textarea class="textarea" name="about" rows="5"></textarea>
        </label>

        <label>
          <span>GitHub</span>
          <input class="input" name="github" />
        </label>

        <label>
          <span>LinkedIn</span>
          <input class="input" name="linkedin" />
        </label>

        <label>
          <span>Instagram</span>
          <input class="input" name="instagram" />
        </label>

        <label>
          <span>Email</span>
          <input class="input" name="email" />
        </label>
      </div>

      <div class="modal-actions">
        <button class="btn ghost" type="button" id="btnCancelProfile">取消</button>
        <button class="btn" type="submit">儲存</button>
      </div>
    </form>
  </dialog>

  <!-- Scripts -->
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
  <script type="module" src="/src/main.js"></script>
</body>
</html>
